<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Quick Start - The elba Guide</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="stylesheet" href="../book.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <link rel="shortcut icon" href="favicon.png">

        <!-- Font Awesome -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">

        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        

    </head>
    <body class="light">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { } 
            if (theme === null || theme === undefined) { theme = 'light'; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li class="affix"><a href="../intro.html">Intro</a></li><li><a href="../getting_started/index.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li><ol class="section"><li><a href="../getting_started/installation.html"><strong aria-hidden="true">1.1.</strong> Installation</a></li><li><a href="../getting_started/quick_start.html" class="active"><strong aria-hidden="true">1.2.</strong> Quick Start</a></li></ol></li><li><a href="../usage/index.html"><strong aria-hidden="true">2.</strong> Usage</a></li><li><ol class="section"><li><a href="../usage/manifest.html"><strong aria-hidden="true">2.1.</strong> The Manifest</a></li><li><a href="../usage/publishing.html"><strong aria-hidden="true">2.2.</strong> Publishing to the Default Index</a></li><li><a href="../usage/installing.html"><strong aria-hidden="true">2.3.</strong> Installing a Package</a></li><li><a href="../usage/custom_subcommands.html"><strong aria-hidden="true">2.4.</strong> Custom Subcommands</a></li><li><a href="../usage/configuration.html"><strong aria-hidden="true">2.5.</strong> Configuration</a></li></ol></li><li><a href="../reference/index.html"><strong aria-hidden="true">3.</strong> Reference</a></li><li><ol class="section"><li><a href="../reference/resolutions.html"><strong aria-hidden="true">3.1.</strong> Resolutions</a></li><li><a href="../reference/indices.html"><strong aria-hidden="true">3.2.</strong> Indices</a></li><li><a href="../reference/dependencies.html"><strong aria-hidden="true">3.3.</strong> Dependencies</a></li><li><a href="../reference/cache.html"><strong aria-hidden="true">3.4.</strong> The Global Cache</a></li></ol></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light <span class="default">(default)</span></button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">The elba Guide</h1> 

                        <div class="right-buttons">
                            <a href="../print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="#quick-start" id="quick-start"><h2>Quick Start</h2></a>
<p>This section intends to be a whirlwind tour of all the functionality available with elba. For more information on each step, refer to either the Usage or Reference chapters.</p>
<a class="header" href="#creating-a-package" id="creating-a-package"><h3>Creating a package</h3></a>
<p>Creating a package is easy with elba: all you need is a package name. Note that names in elba are special in that they are <em>always namespaced</em>; every name in elba comes with a group part and a name part, separated with a slash. For more information, see the information on names in the <a href="../usage/manifest.html">manifest chapter</a>.</p>
<pre><code class="language-sh">$ elba new asd # won't work: no namespace
$ elba new grp/asd # ok!
</code></pre>
<p>This command will generate a new elba project with name <code>grp/asd</code> in the folder <code>./asd/</code>, along with an associated git project. If you want to omit the git project, pass the option <code>--vcs none</code>.</p>
<p>By default, elba will create a project with a binary target, with a main file located at <code>src/Main.idr</code>. If you'd like to generate a package with a library target instead, pass the <code>--lib</code> flag, which will add a library target to the manifest and generate the file <code>src/{group}/{name}.idr</code>. This file structure of having a group followed by a name is just convention, and isn't required.</p>
<p>Regardless of which target is chosen, an <code>elba.toml</code> manifest file will also be generated.</p>
<a class="header" href="#initializing-a-pre-existing-package" id="initializing-a-pre-existing-package"><h4>Initializing a pre-existing package</h4></a>
<p>If you already have an Idris project and want to turn it into an elba project, use the <code>elba init</code> command instead; it follows the exact same syntax as <code>elba new</code> and is functionally identical, but uses the current directory instead of making a new one.</p>
<a class="header" href="#adding-dependencies" id="adding-dependencies"><h3>Adding dependencies</h3></a>
<p>Now that a new package has been created, you can start to add packages as part of your dependencies. A package can originate from one of three places: a git repository, a file directory, or a package index. Ordinary dependencies are placed under the <code>[dependencies]</code> section, while dependencies that are only needed for tests and the like are placed under <code>[dev_dependencies]</code>. Examples are shown below:</p>
<pre><code class="language-toml">[dependencies]
&quot;index/version&quot; = &quot;0.1.5&quot; # uses the default index (i.e. the first specified one in configuration)
&quot;index/explicit&quot; = { version = &quot;0.1.5&quot;, index = &quot;index+dir+../index&quot; } # uses the index specified
&quot;directory/only&quot; = { path = &quot;../awesome&quot; } # uses the package in the path specified
&quot;git/master&quot; = { git = &quot;https://github.com/doesnt/exist&quot; } # uses the master branch
&quot;git/explicit&quot; = { git = &quot;https://github.com/doesnt/exist&quot;, branch = &quot;beta&quot; } # &quot;branch&quot; can be an arbitrary git ref: a tag, commit, etc.
</code></pre>
<p>For more information on the syntax regarding specifying and adding custom indices, see the chapters on <a href="../reference/resolutions.html">Resolutions</a> and <a href="../usage/configuration.html">Configuration</a>. More information about dependency specification syntax is available at <a href="../reference/specifying_dependencies.html">its relevant chapter</a>.</p>
<p>Note that only packages with library targets can be depended on.</p>
<p>At this point, you can add whatever files you want and import anything from your dependencies.</p>
<a class="header" href="#targets" id="targets"><h3>Targets</h3></a>
<p>The manifest also allows you to specify which targets you want to have built for your package. There are three types of targets:</p>
<ul>
<li>
<p>A <strong>library target</strong> allows this package to be depended on by other packages. A package can only have one library, and the syntax follows the following:</p>
<pre><code class="language-toml">[targets.lib]
# the path which contains all of the lib files (*cannot* be a parent directory)
# this is set to &quot;src&quot; by default
path = &quot;src/&quot;
# a list of files to export
mods = [
    &quot;Awesome.A&quot;, # the file src/Awesome/A.idr
    &quot;Control.Zygohistomorphic.Prepromorphisms&quot;, # the file src/Control/Zygohistomorphic/Prepromorphisms.idr
]
</code></pre>
</li>
<li>
<p>A <strong>bin target</strong> specifies a binary to be built. Multiple binaries can correspond to one package.</p>
<pre><code class="language-toml">[[targets.bin]]
# the name of the binary to create
name = &quot;awes&quot;
# the path which contains all of the bin files (*cannot* be a parent directory)
# this is set to &quot;src&quot; by default
path = &quot;src/&quot;
# the path to the Main module of the binary
main = &quot;Awesome.B&quot;
</code></pre>
<p>Note: the format of the binary target has some nuance to it, so for more information, see the docs on <a href="../usage/manifest.html">the manifest format</a>.</p>
</li>
<li>
<p>A <strong>test target</strong> specifies a test binary to build. It uses the same syntax as a bin target, with the difference that we use <code>[[targets.test]]</code> to specify them and the test binary can depend on the dev-dependencies as well as the root package's library. A test binary succeeds upon execution if it returns exit code 0.</p>
</li>
</ul>
<a class="header" href="#building-a-package" id="building-a-package"><h3>Building a package</h3></a>
<p>...can be accomplished with the command:</p>
<pre><code class="language-sh"># assuming the current directory is an elba package
$ elba build
</code></pre>
<p>For all elba build-related commands, the <code>IDRIS_OPTS</code> environment variable will dictate additional arguments to pass to the Idris compiler (the flags passed by elba get higher priority). This can be helpful for packages which depend on base installed Idris packages (e.g. if you want to pass <code>-p effects</code> to the compiler).</p>
<p>When building a local package, the output binaries are located at <code>target/bin</code>, while the output library is placed at <code>target/lib</code>.</p>
<p>Interactive development with the REPL can also be accomplished with the command:</p>
<pre><code class="language-sh"># assuming the current directory is an elba package
$ elba repl
</code></pre>
<p>Instead of placing the build outputs in a <code>target/</code> folder, the <code>elba repl</code> command directly loads the files on-disk, then cleans up any build files after execution.</p>
<p>elba uses an <code>elba.lock</code> lockfile to ensure that these builds are reproducible.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../getting_started/installation.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../usage/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a href="../getting_started/installation.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a href="../usage/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script src="../searchindex.js" type="text/javascript" charset="utf-8"></script>
        <script>
            var path_to_root = "../";
        </script>
        
        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
